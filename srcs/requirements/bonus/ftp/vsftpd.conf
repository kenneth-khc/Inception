# Example config file /etc/vsftpd.conf
#
# READ THIS: This file is NOT an exhaustive list of vsftpd options.
# Please read the vsftpd.conf.5 manual page to get a full idea of vsftpd's
# capabilities.

# run standalone as the container executable
listen=YES
listen_ipv6=NO
ssl_enable=NO

# disable active mode as we are testing with our host on localhost
port_enable=NO

pasv_enable=YES
pasv_address=127.0.0.1

# set ports to only between 30000-30010
pasv_min_port=30000
pasv_max_port=30010

# allow local users to log in
local_enable=YES
local_root=/srv/ftp
chroot_local_user=YES

# enable FTP write commands
write_enable=YES

anonymous_enable=YES
no_anon_password=YES
anon_root=/srv/ftp

# the user to handle anonymous logins
ftp_username=ftp_user

# Uncomment this to allow the anonymous FTP user to upload files. This only
# has an effect if the above global write enable is activated. Also, you will
# obviously need to create a directory writable by the FTP user.
# anon_upload_enable=YES
# anon_mkdir_write_enable=YES
# anon_other_write_enable=YES

# This option should be the name of a directory which is empty.  Also, the
# directory should not be writable by the ftp user. This directory is used
# as a secure chroot() jail at times vsftpd does not require filesystem
# access.
secure_chroot_dir=/var/run/vsftpd/empty

# default file uploaded permissions
file_open_mode=0777

# umask to apply on top of uploaded files' permissions
local_umask=022
anon_umask=022

use_localtime=YES

# logging
syslog_enable=NO
log_ftp_protocol=YES
# log transfers (uploads/downloads)
xferlog_enable=YES
# vsftpd redirects /dev/stdout to /dev/null so we can't log to stdout
vsftpd_log_file=/var/log/vsftpd.log

# change owner of uploaded anonymous files
chown_uploads=YES
chown_username=inception_ftp

# You may fully customise the login banner string:
ftpd_banner=Welcome to FTP service for Inception.

# This string is the name of the PAM service vsftpd will use.
pam_service_name=vsftpd
